From: Alec Leamas <leamas.alec@gmail.com>
Date: Wed, 13 Apr 2022 19:15:26 +0200
Subject: plugins: don't link to wxWidgets.

---
 plugins/chartdldr_pi/CMakeLists.txt |  3 +--
 plugins/dashboard_pi/CMakeLists.txt | 12 ------------
 plugins/grib_pi/CMakeLists.txt      |  9 ---------
 plugins/wmm_pi/CMakeLists.txt       |  3 +--
 4 files changed, 2 insertions(+), 25 deletions(-)

diff --git a/plugins/chartdldr_pi/CMakeLists.txt b/plugins/chartdldr_pi/CMakeLists.txt
index 2f18b26..f8325b4 100644
--- a/plugins/chartdldr_pi/CMakeLists.txt
+++ b/plugins/chartdldr_pi/CMakeLists.txt
@@ -246,8 +246,7 @@ endif (LibArchive_FOUND)
 
 if (NOT QT_ANDROID)
   target_link_libraries(
-    ${PACKAGE_NAME} PRIVATE ${wxWidgets_LIBRARIES} ocpn::wxjson ocpn::wxsvg
-                            ocpn::opencpn
+    ${PACKAGE_NAME} PRIVATE ocpn::wxjson ocpn::wxsvg ocpn::opencpn
   )
 else (NOT QT_ANDROID)
   target_link_libraries(
diff --git a/plugins/dashboard_pi/CMakeLists.txt b/plugins/dashboard_pi/CMakeLists.txt
index 19990ff..6eff55a 100644
--- a/plugins/dashboard_pi/CMakeLists.txt
+++ b/plugins/dashboard_pi/CMakeLists.txt
@@ -59,17 +59,6 @@ ENDIF(MSVC)
 
 
 
-#  QT_ANDROID is a cross-build, so the native FIND_PACKAGE(wxWidgets...) and wxWidgets_USE_FILE is not useful.
-IF(NOT QT_ANDROID)
-IF(NOT DEFINED wxWidgets_USE_FILE)
-  SET(wxWidgets_USE_LIBS base core net xml html adv)
-  SET(BUILD_SHARED_LIBS TRUE)
-  FIND_PACKAGE(wxWidgets REQUIRED)
-ENDIF(NOT DEFINED wxWidgets_USE_FILE)
-
-  INCLUDE(${wxWidgets_USE_FILE})
-ENDIF(NOT QT_ANDROID)
-
 FIND_PACKAGE(Gettext REQUIRED)
 
 # For convenience we define the sources as a variable. You can add
@@ -214,7 +203,6 @@ ELSE (QT_ANDROID )
     target_link_libraries( ${PACKAGE_NAME} ocpn::opencpn )
 ENDIF(QT_ANDROID)
 
-TARGET_LINK_LIBRARIES( ${PACKAGE_NAME} ${wxWidgets_LIBRARIES} )
 TARGET_LINK_LIBRARIES( ${PACKAGE_NAME} ${OCPN_Core_LIBRARIES} )
 if (TARGET ocpn::wxsvg)
     TARGET_LINK_LIBRARIES( ${PACKAGE_NAME} ocpn::wxsvg )
diff --git a/plugins/grib_pi/CMakeLists.txt b/plugins/grib_pi/CMakeLists.txt
index 1508c3e..dc26a52 100644
--- a/plugins/grib_pi/CMakeLists.txt
+++ b/plugins/grib_pi/CMakeLists.txt
@@ -70,14 +70,6 @@ if (QT_ANDROID)
   add_definitions(
     "-Wno-inconsistent-missing-override -Wno-potentially-evaluated-expression"
   )
-else (QT_ANDROID)
-  if (NOT DEFINED wxWidgets_USE_FILE)
-    set(wxWidgets_USE_LIBS base core net xml html adv)
-    set(BUILD_SHARED_LIBS TRUE)
-    find_package(wxWidgets REQUIRED)
-  endif (NOT DEFINED wxWidgets_USE_FILE)
-
-  include(${wxWidgets_USE_FILE})
 endif (QT_ANDROID)
 
 find_package(Gettext REQUIRED)
@@ -210,7 +202,6 @@ if (WIN32)
 endif (WIN32)
 
 if (NOT QT_ANDROID)
-  target_link_libraries(${PACKAGE_NAME} PRIVATE ${wxWidgets_LIBRARIES})
   target_link_libraries(${PACKAGE_NAME} PRIVATE ${OCPN_Core_LIBRARIES})
   target_link_libraries(${PACKAGE_NAME} PRIVATE ocpn::wxsvg)
   target_link_libraries(${PACKAGE_NAME} PRIVATE ocpn::opencpn)
diff --git a/plugins/wmm_pi/CMakeLists.txt b/plugins/wmm_pi/CMakeLists.txt
index eb19d22..dc7da29 100644
--- a/plugins/wmm_pi/CMakeLists.txt
+++ b/plugins/wmm_pi/CMakeLists.txt
@@ -80,8 +80,7 @@ endif ()
 
 if (NOT QT_ANDROID)
   target_link_libraries(
-    ${PACKAGE_NAME} PRIVATE ${wxWidgets_LIBRARIES} ocpn::wxjson ocpn::wxsvg
-                            ocpn::opencpn
+    ${PACKAGE_NAME} PRIVATE  ocpn::wxjson ocpn::wxsvg ocpn::opencpn
   )
 else (NOT QT_ANDROID)
   target_link_libraries(
